<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Tucano: Using the Framebuffer Classe</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="tucano.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tucano
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">A library for rapid prototyping with modern OpenGL and GLSL</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('framebuffer_tutorial.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Using the Framebuffer Classe </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The Framebuffer Class holds a common and very useful OpenGL FBO. FBOs are used mainly, but certainly not only, for offscreen rendering, that is, tunneling the rendered image to a Texture instead to the screen. This is very useful for multipass effects, where the output of the first render pass is saved to a FBO Texture Attachment, that is received as input for the second pass. The second pass might render directly to the screen buffer, or yet to another Texture Attachment to serve as input for a third pass, and so on.</p>
<p>An FBO can hold up to a maximum number of textures (Attachments), having the restriction that all of them have the same size.</p>
<p>The Framebuffer Class makes FBO creation and usage very easy:</p>
<ul>
<li>hides most of the usual burden of setting up a FBO</li>
<li>easily bind one or more FBO Texture Attachment as output buffers</li>
<li>easily bind a FBO Texture for accessing inside Shaders</li>
</ul>
<h1>Creating a FBO</h1>
<p>Creating a FBO with size *(w,h)* and <em>n</em> texture attachments.</p>
<p>First method: </p>
<div class="fragment"><div class="line"><a class="code" href="classTucano_1_1Framebuffer.html">Tucano::Framebuffer</a> *fbo;</div>
<div class="line">fbo = <span class="keyword">new</span> <a class="code" href="classTucano_1_1Framebuffer.html">Tucano::Framebuffer</a>(w, h, n);</div>
</div><!-- fragment --><p>Second method:s </p>
<div class="fragment"><div class="line"><a class="code" href="classTucano_1_1Framebuffer.html">Tucano::Framebuffer</a> *fbo;</div>
<div class="line">fbo = <span class="keyword">new</span> <a class="code" href="classTucano_1_1Framebuffer.html">Tucano::Framebuffer</a>(w, h, n);</div>
</div><!-- fragment --><p>Third method: </p>
<div class="fragment"><div class="line"><a class="code" href="classTucano_1_1Framebuffer.html">Tucano::Framebuffer</a> fbo;</div>
<div class="line">fbo.<a class="code" href="classTucano_1_1Framebuffer.html#afdb4e8ca8d67283290ec932135c9fc37">create</a>(w, h, n);</div>
</div><!-- fragment --><h1>Reading from a FBO</h1>
<p>Usually FBO are accessed as textures from the Shaders. Any Texture attachment can be handled directly as a <a class="el" href="classTucano_1_1Texture.html">Texture</a> (see the <a class="el" href="texture_tutorial.html">Texture Tutorial</a> for more details). It is possible to bind an Attachment and make it accessible in the Shader program with a single call:</p>
<div class="fragment"><div class="line">shader.setUniform(<span class="stringliteral">&quot;textureName&quot;</span>, fbo.<a class="code" href="classTucano_1_1Framebuffer.html#a843554c88d89aa3b683ee43d423ace2f">bindAttachment</a>(attachID));</div>
</div><!-- fragment --><p>In your Shader, the Texture will be available as a sampler. For a 2D texture for example:</p>
<div class="fragment"><div class="line">uniform sampler2D textureName;</div>
</div><!-- fragment --><p>However, sometimes for debugging facility it is useful to read back the pixels from a given attachment. This can be easily achieve using the readPixels methods.</p>
<h1>Rendering to the FBO</h1>
<p>To render to one specific Attachment:</p>
<div class="fragment"><div class="line">fbo.<a class="code" href="classTucano_1_1Framebuffer.html#ae540708a905ca8bd1a9cf795c7a3a49e">bindRenderBuffer</a>(attachID);</div>
</div><!-- fragment --><p>where <em>attachID</em> is an integer to indicate the ith attachment</p>
<p>To render to two Attachments:</p>
<div class="fragment"><div class="line">fbo.<a class="code" href="classTucano_1_1Framebuffer.html#a9d0f4cefac66bb9a51bcd4a1e0b2a8ab">bindRenderBuffers</a>(attachID1, attachID2);</div>
</div><!-- fragment --><p>There are overloads to render up to 8 attachments, or passing a list of attachments as a reference. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Nov 5 2014 14:57:52 for Tucano by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
